!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("@babel/runtime/helpers/typeof")):"function"==typeof define&&define.amd?define(["@babel/runtime/helpers/typeof"],n):(e=e||self).tinyUtil=n(e._typeof)}(this,function(o){"use strict";o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;var n=Object.prototype.toString,t=function(e){return n.call(e).slice(8,-1)};function c(e){return"Number"===t(e)}function r(e){return"String"===t(e)}function f(e){return void 0===e}function a(e){return null===e}function d(e){return!f(e)&&!a(e)&&"Object"===t(e)}function s(e){return"Array"===t(e)}function i(e){return"Function"===t(e)}return{base:{isNumber:c,isString:r,isBoolean:function(e){return"boolean"==typeof e},isUndefined:f,isNull:a,isObject:d,isArray:s,isFunction:i},string:{deleteSpace:function n(t){return(d(t)||s(t))&&Object.keys(t).map(function(e){r(t[e])&&(t[e]=t[e].trim()),(d(t)||s(t))&&(t[e]=n(t[e]))}),t},deleteStrSpace:function(e){return r(e)?e.trim():e}},array:{fill:function(e,n,t,r,i){if(!s(e))throw new Error("第一个参数必须数组");for(var o=void 0!==t&&c(t)?t:0,u=void 0!==r&&c(r)?r:e.length;o<u;o++)(a(e[o])||f(e[o])||i)&&(e[o]=n);return e}},object:{filterProperties:function(e,n){if(!s(e)&&!d(e))throw new Error("第一个参数不是对象或数组");if(!s(n))throw new Error("第二个参数不是数组");return function t(n,r){n=JSON.parse(JSON.stringify(n));var i;s(n)?(i=n).map(function(e,n){(s(e)||d(e))&&(i[n]=t(e,r))}):d(n)&&(i={},r.map(function(e){s(n[e])||d(n[e])?i[e]=t(n[e],r):void 0!==n[e]&&(i[e]=n[e])}));return i}(e,n)},transferProperties:function(e,n){if(!s(e)&&!d(e))throw new Error("第一个参数不是对象或数组");if(!s(n))throw new Error("第二个参数不是数组");return function r(i,o){i=JSON.parse(JSON.stringify(i));var u;s(i)?(u=i).map(function(e,n){(s(e)||d(e))&&(u[n]=r(e,o))}):d(i)&&(u={},Object.keys(i).map(function(e){var n=c(e,o);if(n&&n.func&&(i[e]=n.func(i[e])),s(i[e])||d(i[e]))if(n){var t=r(i[e],o);s(u[n.new])&&s(t)?u[n.new]=u[n.new].concat(t):d(u[n.new])&&d(t)?u[n.new]=Object.assign(u[n.new],t):u[n.new]=r(i[e],o)}else u[e]=r(i[e],o);else n?u[n.new]=i[e]:u[e]=i[e]}));return u}(e,n);function c(n,e){var t=null;return e.map(function(e){e[0]===n&&(t={old:n,new:e[1],func:i(e[2])?e[2]:null})}),t}}},functions:{printObjToHTML:function(e,n){if(!d(e)&&!s(e))throw new Error("参数不是对象或数组");return function n(t,r){var i='<ul class="'.concat(r?r+"-":"",'ul">');Object.keys(t).map(function(e){i+='<li class="'.concat(r?r+"-":"",'li">'),s(t[e])||d(t[e])?i+=n(t[e],r):i+=e+"<br />"+t[e],i+="</li>"});i+="</ul>";return i}(e,n)},deleteInfo:function(t,i,o,u){return new Promise(function(n,r){var e=t.$createElement;t.$msgbox({title:"消息",message:e("p",null,[e("span",null,"确定删除 "+i+" 吗？")]),showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",beforeClose:function(e,n,t){"confirm"===e?(n.confirmButtonLoading=!0,n.confirmButtonText="执行中...",u(o).then(function(e){t(),n.confirmButtonLoading=!1}).catch(function(e){n.confirmButtonLoading=!1,n.confirmButtonText="确定",r(e)})):(t(),n.confirmButtonLoading=!1)}}).then(function(e){t.$message({type:"info",message:"删除"+i+"成功"}),n(e)}).catch(function(e){r(e)})})}},date:{parseTime:function(e,n){if(0===arguments.length)return null;var t,r=n||"{y}-{m}-{d} {h}:{i}:{s}",i={y:(t="object"===o(e)?e:(10===(""+e).length&&(e=1e3*parseInt(e)),new Date(e))).getFullYear(),m:t.getMonth()+1,d:t.getDate(),h:t.getHours(),i:t.getMinutes(),s:t.getSeconds(),a:t.getDay()};return r.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,n){var t=i[n];return"a"===n?["日","一","二","三","四","五","六"][t]:(0<e.length&&t<10&&(t="0"+t),t||0)})},initDate:function(e){if(!r(e)||f(e))throw new Error("参数需要是字符串");return""===e?"":(e=e.replace(/-/g,"/"),new Date(e))}},validate:{URL:function(e){return/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|top|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/.test(e)},lowerCase:function(e){return/^[a-z]+$/.test(e)},upperCase:function(e){return/^[A-Z]+$/.test(e)},alphabets:function(e){return/^[A-Za-z]+$/.test(e)},email:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},mobile:function(e){return/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/.test(e)},negativeIntegerNonzero:function(e){return/^-[1-9]\d*$/.test(e)},positiveInteger:function(e){return/^[1-9]\d*|0$/.test(e)},negativeInteger:function(e){return/^-[1-9]\d*|0$/.test(e)},pwd:function(e){return/^[0-9A-Za-z]{6,20}$/.test(e)},notEmpty:function(e){return!!e.length},phone:function(e){return/^((13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(18[0,5-9]))\d{8}$|^((13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(18[0,5-9]))\d{8}$|^0\d{2,3}-?\d{7,8}$/.test(e)},longitude:function(e){return/^(\-|\+)?(((\d|[1-9]\d|1[0-7]\d|0{1,3})\.\d{0,6})|(\d|[1-9]\d|1[0-7]\d|0{1,3})|180\.0{0,6}|180)$/.test(e)},latitude:function(e){return/^(\-|\+)?([0-8]?\d{1}\.\d{0,6}|90\.0{0,6}|[0-8]?\d{1}|90)$/.test(e)},date:function(e){return/^((((19|20)\d{2})-(0?[13578]|1[02])-(0?[1-9]|[12]\d|3[01]))|(((19|20)\d{2})-(0?[469]|11)-(0?[1-9]|[12]\d|30))|(((19|20)\d{2})-0?2-(0?[1-9]|1\d|2[0-8]))|((((19|20)([13579][26]|[2468][048]|0[48]))|(2000))-0?2-(0?[1-9]|[12]\d)))$/.test(e)},floatZ:function(e){return/^([1-9][\d]{0,7}|0)(\.[\d]{1,2})?$/.test(e)},numberZ:function(e){return/^[0-9]*[1-9][0-9]*$/.test(e)}},tree:{treeSelect:function(n,e,t){var r=t.single,i=t.tree,o={obj:n,checkedObj:e};if(r)if(n.children){if(e.checkedKeys.map(function(e){i.setChecked(e,!1)}),-1!==e.checkedKeys.indexOf(n.id))for(var u=n.children;;){if(!u[0].children){i.setChecked(u[0].id,!0),o.id=u[0].id;break}u=u[0].children}}else e.checkedKeys.map(function(e){e!==n.id&&i.setChecked(e,!1)}),-1!==e.checkedKeys.indexOf(n.id)&&(i.setChecked(n.id,!0),o.id=n.id);else;return o},treeSelectNoLinkage:function(n,e,t){var r=t.single,i=t.tree,o={obj:n,checkedObj:e};return r&&(e.checkedKeys.map(function(e){e!==n.id&&i.setChecked(e,!1)}),-1!==e.checkedKeys.indexOf(n.id)&&(i.setCurrentNode(n),o.id=n.id)),o},showBack:function(n,e){n.getCheckedKeys().map(function(e){n.setChecked(e,!1)}),e.map(function(e){n.setChecked(e,!0)})},findNodeInTree:function e(n,t,r,i){if(!s(n))throw new Error("树数据不是数组");for(var o=0,u=n.length;o<u;o++){if(n[o][t]===r)return n[o];if(n[o][i]){var c=e(n[o][i],t,r,i);if(c)return c}}return!1},findNodeInTreeDeep:function n(e,t,r,i){if(!s(e))throw new Error("树数据不是数组");var o=[];return e.map(function(e){e[t]===r&&o.push(e),e[i]&&(o=o.concat(n(e[i],t,r,i)))}),Array.from(new Set(o))},setProperty:function n(e,t,r,i,o){if(!s(e))throw new Error("树数据不是数组");e.map(function(e){e[r]=void 0===o?e[t]:o(e[t]),e[i]&&n(e[i],t,r,i,o)})},setPropertyFromParent:function(e,n,t,r){if(!s(e))throw new Error("树数据不是数组");return function t(e,r,i,o,u){e.map(function(e){if(e[o]=i,e[u]&&s(e[u])){var n=e[r];t(e[u],r,n,o,u)}})}(e,n,null,t,r),e},plainTree:function n(e,t){if(!s(e))throw new Error("树数据不是数组");var r=[];return e.map(function(e){r.push(e),e[t]&&(r=r.concat(n(e[t],t)))}),r},treeNodeNumber:function n(e,t){if(!s(e))throw new Error("树数据不是数组");var r=0;return r+=e.length,e.map(function(e){e[t]&&(r+=n(e[t],t))}),r},deleteEmptyChildNode:function(e,n){if(!s(e))throw new Error("树数据不是数组");var t=JSON.parse(JSON.stringify(e));return function n(e,t){e.map(function(e){e[t]&&s(e[t])&&(0===e[t].length?delete e[t]:n(e[t],t))})}(t,n),t},getLastLevel:function e(n,t,r,i){if(!s(n))throw new Error("树数据不是数组");for(var o=[],u=t||"children",c=0,f=n.length;c<f;c++)s(n[c][u])?o=o.concat(e(n[c][u],r,i)):void 0!==r&&void 0!==i&&n[c][r]!==i||o.push(n[c]);return Array.from(new Set(o))}}}});
